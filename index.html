<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>VXIV | AIXA</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:Arial,sans-serif;background:#fff;overflow-x:hidden;}

/* Splash */
.splash{position:fixed;inset:0;background:white;display:flex;justify-content:center;align-items:center;z-index:9999;animation:fadeOut 2s ease-in-out 2s forwards;}
.splash h1{font-size:48px;color:black;transform:rotate(180deg);}
@keyframes fadeOut{to{opacity:0;visibility:hidden;}}

/* Top Bar */
.top-bar{position:fixed;top:0;left:0;width:100%;height:65px;background:white;border-bottom:1px solid #ddd;display:flex;justify-content:center;align-items:center;z-index:100;}
.brand-name{font-size:28px;font-weight:bold;transform:rotate(180deg);color:black;}

/* Search */
.search-container{display:none;justify-content:center;margin-top:75px;margin-bottom:10px;}
.search-container input{width:80%;padding:10px;font-size:16px;border-radius:8px;border:1px solid #ccc;outline:none;}

/* Slideshow */
.slideshow-container{position:absolute;top:75px;bottom:90px;left:6%;width:88%;border-radius:20px;overflow:hidden;}
.slide{position:absolute;width:100%;height:100%;opacity:0;transition:opacity 1.5s ease-in-out;}
.slide.active{opacity:1;}
.slide img{width:100%;height:100%;object-fit:cover;border-radius:20px;}
.shop-btn{position:absolute;bottom:30px;left:50%;transform:translateX(-50%);background:white;color:black;border:none;padding:12px 30px;border-radius:25px;font-size:16px;cursor:pointer;opacity:0;transition:opacity 1.2s ease-in-out;}
.slide.active .shop-btn{opacity:1;}

/* Product */
.product-container{display:none;flex-wrap:wrap;justify-content:center;gap:15px;padding:80px 10px 100px;}
.product-card{width:42%;background:white;border:none;padding:0;position:relative;text-align:left;}
.image-wrapper{position:relative;width:100%;height:180px;overflow:hidden;}
.image-wrapper img{width:100%;height:100%;object-fit:cover;display:block;}
.plus-btn{position:absolute;bottom:8px;left:8px;background:white;color:black;font-size:18px;border:none;border-radius:6px;width:28px;height:28px;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 2px 5px rgba(0,0,0,0.25);}
.product-card h3{font-size:15px;margin:6px 5px 2px;color:black;}
.product-card p{font-size:13px;color:#555;margin:2px 5px 4px;}
.product-card .price{font-size:14px;font-weight:bold;color:black;margin:4px 5px 8px;}

/* Cart */
.cart-container{display:none;flex-direction:column;padding:80px 10px 100px;gap:15px;}
.cart-item{display:flex;align-items:center;justify-content:space-between;background:#f9f9f9;padding:10px;border-radius:8px;}
.cart-info{display:flex;align-items:center;gap:10px;}
.cart-info img{width:60px;height:60px;object-fit:cover;border-radius:6px;}
.cart-text{display:flex;flex-direction:column;}
.cart-text h4{font-size:14px;color:black;}
.cart-text p{font-size:12px;color:#555;}
.cart-text .price{font-weight:bold;}
.quantity-controls{display:flex;align-items:center;gap:5px;margin-top:5px;}
.quantity-controls button{padding:2px 6px;border-radius:4px;border:1px solid #ccc;cursor:pointer;background:white;}
.remove-btn{background:black;color:white;border:none;border-radius:8px;padding:6px 12px;cursor:pointer;}
.no-products{text-align:center;padding:40px;color:#666;}

/* Cart Footer */
#cartFooter{display:none;position:fixed;bottom:70px;left:0;width:100%;background:white;padding:12px 20px;border-top:1px solid #ddd;display:flex;justify-content:space-between;align-items:center;z-index:100;}
#cartFooter .total{font-weight:bold;font-size:16px;color:black;}
#cartFooter .continue-btn{background:black;color:white;padding:10px 18px;border-radius:25px;border:none;cursor:pointer;font-size:14px;}

/* Bottom Bar */
.bottom-bar{position:fixed;bottom:0;width:100%;height:70px;background:white;border-top:1px solid #ddd;display:flex;justify-content:space-around;align-items:center;z-index:100;}
.nav-item{display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;}
svg{stroke:black;stroke-width:1.3;fill:none;width:26px;height:26px;display:block;}
.menu-text{font-size:13px;font-weight:300;color:black;letter-spacing:1px;}

/* Toast */
.toast{position:fixed;bottom:100px;left:50%;transform:translateX(-50%);background:black;color:white;padding:10px 20px;border-radius:25px;font-size:14px;opacity:0;transition:opacity 0.5s ease;z-index:2000;}
.toast.show{opacity:1;}

/* Popup */
.popup{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(255,255,255,0.95);z-index:1000;display:none;flex-direction:column;}
.popup-content{width:85%;max-width:400px;text-align:left;position:relative;}
.popup-content h3{margin-bottom:15px;font-size:18px;color:black;}
.popup-content input{width:100%;border:none;border-bottom:1px solid #aaa;padding:10px 5px;margin-bottom:15px;font-size:14px;outline:none;background:transparent;}
.popup-content button{width:100%;padding:10px;background:black;color:white;border:none;border-radius:25px;cursor:pointer;font-size:15px;}
.close-btn{position:absolute;top:15px;right:20px;font-size:22px;color:black;cursor:pointer;}

/* Menu View */
.menu-view{display:none;position:absolute;top:65px;bottom:70px;width:100%;background:#fff;z-index:50;overflow-y:auto;padding-top:10px;}
.menu-swipe{display:flex;overflow-x:auto;gap:10px;padding:10px;}
.menu-swipe img{height:120px;border-radius:12px;flex-shrink:0;width:200px;object-fit:cover;}
.menu-options{display:flex;flex-direction:column;align-items:center;margin-top:20px;gap:20px;}
.menu-options button{width:60%;padding:12px 0;font-size:18px;border-radius:12px;border:1px solid #000;background:white;cursor:pointer;}
</style>
</head>
<body>

<!-- Splash -->
<div class="splash"><h1>VXIV</h1></div>

<!-- Top Bar -->
<div class="top-bar"><div class="brand-name">VXIV</div></div>

<!-- Search -->
<div class="search-container"><input type="text" id="searchInput" placeholder="Search products..."></div>

<!-- Slideshow -->
<div class="slideshow-container" id="homeSection">
  <div class="slide active"><img src="https://i.supaimg.com/64a247c9-a844-4770-8898-1a942a7da301.jpg"/><button class="shop-btn">Shop now</button></div>
  <div class="slide"><img src="https://i.supaimg.com/bfb437f6-9cca-4ece-accb-c87dbd89465d.jpg"/><button class="shop-btn">Shop now</button></div>
  <div class="slide"><img src="https://i.supaimg.com/e5937526-a90a-4430-b734-49de86f5959a.jpg"/><button class="shop-btn">Shop now</button></div>
  <div class="slide"><img src="https://i.supaimg.com/067e85b1-caed-401a-8d4a-45a392cf8ab9.jpg"/><button class="shop-btn">Shop now</button></div>
  <div class="slide"><img src="https://i.supaimg.com/0f62a8e7-8b02-4e1f-8c85-68019a6ebee9.jpg"/><button class="shop-btn">Shop now</button></div>
</div>

<!-- Product -->
<div class="product-container" id="productSection"></div>

<!-- Cart -->
<div class="cart-container" id="cartSection"></div>
<div id="cartFooter">
  <div class="total">Total: Rs.0</div>
  <button class="continue-btn">Continue</button>
</div>

<!-- Checkout Popup -->
<div class="popup" id="checkoutPopup">
  <span class="close-btn" id="closePopup">&times;</span>
  <div class="popup-content">
    <h3>Enter your details</h3>
    <input type="text" id="name" placeholder="Name">
    <input type="text" id="address" placeholder="Address">
    <input type="text" id="pincode" placeholder="Pincode">
    <input type="text" id="city" placeholder="City">
    <input type="text" id="mobile" placeholder="Mobile No.">
    <button id="placeOrder">Place Order</button>
  </div>
</div>

<!-- About/Help Popup -->
<div class="popup" id="infoPopup">
  <span class="close-btn" id="closeInfo">&times;</span>
  <div class="popup-content" id="infoContent"></div>
</div>

<!-- Menu View -->
<div class="menu-view" id="menuSection">
  <div class="menu-swipe">
    <img src="https://i.supaimg.com/7c76b253-14e7-416e-969a-b94979c39e93.jpg">
    <img src="https://i.supaimg.com/c0ff4119-5ea2-41ea-a324-7fac82ff37d2.jpg">
    <img src="https://i.supaimg.com/dae051ac-ba16-4e5c-96c6-9e72dc4ed7ce.jpg">
  </div>
  <div class="menu-options">
    <button id="menuHome">Home</button>
    <button id="menuShop">Shop All</button>
    <button id="menuAbout">About</button>
    <button id="menuHelp">Help</button>
  </div>
</div>

<!-- Bottom Bar -->
<div class="bottom-bar">
  <div class="nav-item" id="homeIcon"><svg viewBox="0 0 24 24"><path d="M3 10L12 3l9 7v11H3z"/></svg></div>
  <div class="nav-item" id="searchIcon"><svg viewBox="0 0 24 24"><circle cx="10" cy="10" r="7"/><line x1="15" y1="15" x2="21" y2="21"/></svg></div>
  <div class="nav-item" id="menuIcon"><svg viewBox="0 0 24 24"><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/></svg></div>
  <div class="nav-item" id="cartIcon"><svg viewBox="0 0 24 24"><rect x="6" y="8" width="12" height="13" rx="1" ry="1"/><path d="M9 8V6a3 3 0 0 1 6 0v2"/></svg></div>
</div>

<!-- Toast -->
<div class="toast" id="toast">Update coming soon</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
<script>
const sheetURL="https://docs.google.com/spreadsheets/d/1ocebuz7RNHFNKvE19ZiAb-ckoRuYmZvnskpkDgog9MQ/gviz/tq?tqx=out:csv";
let cart=[];

/* Fetch Products from Sheet */
async function fetchAllData(){
  const res=await fetch(sheetURL);
  const text=await res.text();
  const parsed=Papa.parse(text,{header:true,skipEmptyLines:true});
  return parsed.data;
}

async function loadProducts(showAll=false){
  const data=await fetchAllData();
  const normalized=data.map(row=>{const out={};for(const key in row)out[key.trim().toLowerCase()]=row[key];return out;});
  const list=showAll?normalized:normalized.filter(p=>String(p.shopnow||"").toLowerCase()==="true");
  renderProducts(list);
}

function renderProducts(products){
  const section=document.getElementById("productSection");
  section.innerHTML="";
  if(!products||products.length===0){section.innerHTML=`<div class="no-products">No products found</div>`;return;}
  products.forEach(p=>{
    const name=p.name||"No name",desc=p.description||"",price=p.price||"-",image=p.image||"https://via.placeholder.com/400x300?text=No+image";
    const card=document.createElement("div");
    card.className="product-card";
    card.innerHTML=`<div class="image-wrapper"><img src="${image}" alt="${name}"><button class="plus-btn">+</button></div><h3>${name}</h3><p>${desc}</p><div class="price">rs.${price}</div>`;
    section.appendChild(card);
    
    // ✅ Added toast when item added to cart
    card.querySelector(".plus-btn").addEventListener("click",()=>{
      const existing=cart.find(item=>item.name===name);
      if(existing){existing.qty+=1;} 
      else {cart.push({name,desc,price,image,qty:1});}
      showToast("Item added to cart!");
    });
  });
}

function renderCart(){
  const section=document.getElementById("cartSection");
  const footer=document.getElementById("cartFooter");
  section.innerHTML="";
  if(cart.length===0){section.innerHTML=`<div class="no-products">No products added in cart</div>`;footer.style.display="none";return;}
  let total=0;
  cart.forEach((item,index)=>{
    total+=Number(item.price)*item.qty;
    const div=document.createElement("div");
    div.className="cart-item";
    div.innerHTML=`<div class="cart-info"><img src="${item.image}"><div class="cart-text"><h4>${item.name}</h4><p>${item.desc}</p><div class="price">Rs.${item.price}</div><div class="quantity-controls"><button class="decrease">-</button><span class="qty">${item.qty}</span><button class="increase">+</button></div></div></div><button class="remove-btn">Remove</button>`;
    section.appendChild(div);
    div.querySelector(".increase").addEventListener("click",()=>{item.qty+=1;renderCart();});
    div.querySelector(".decrease").addEventListener("click",()=>{if(item.qty>1)item.qty-=1;else cart.splice(index,1);renderCart();});
    div.querySelector(".remove-btn").addEventListener("click",()=>{cart.splice(index,1);renderCart();});
  });
  footer.style.display="flex";
  footer.querySelector(".total").textContent=`Total: Rs.${total}`;
}

/* Views */
const homeSection=document.getElementById("homeSection");
const productSection=document.getElementById("productSection");
const cartSection=document.getElementById("cartSection");
const menuSection=document.getElementById("menuSection");
const searchContainer=document.querySelector(".search-container");

function showHomeView(){homeSection.style.display="block";productSection.style.display="none";cartSection.style.display="none";menuSection.style.display="none";searchContainer.style.display="none";document.getElementById("cartFooter").style.display="none";}
function showSearchView(){homeSection.style.display="none";productSection.style.display="flex";cartSection.style.display="none";menuSection.style.display="none";searchContainer.style.display="flex";document.getElementById("cartFooter").style.display="none";loadProducts(true);}
function showCartView(){homeSection.style.display="none";productSection.style.display="none";cartSection.style.display="flex";menuSection.style.display="none";searchContainer.style.display="none";renderCart();}
function showMenuView(){homeSection.style.display="none";productSection.style.display="none";cartSection.style.display="none";menuSection.style.display="block";searchContainer.style.display="none";}

/* Bottom Navigation */
document.getElementById("homeIcon").addEventListener("click",showHomeView);
document.getElementById("searchIcon").addEventListener("click",showSearchView);
document.getElementById("cartIcon").addEventListener("click",showCartView);
document.getElementById("menuIcon").addEventListener("click",showMenuView);

/* Menu Buttons */
document.getElementById("menuHome").addEventListener("click",showHomeView);
document.getElementById("menuShop").addEventListener("click",showSearchView);

/* About/Help Popup */
const infoPopup=document.getElementById("infoPopup");
const infoContent=document.getElementById("infoContent");
document.getElementById("menuAbout").addEventListener("click",()=>{
  infoContent.innerHTML="<h3>About AIXA</h3><p>AIXA is a modern men's fashion and grooming brand focused on style and quality.</p>";
  infoPopup.style.display="flex";
});
document.getElementById("menuHelp").addEventListener("click",()=>{
  infoContent.innerHTML="<h3>Help</h3><p>Email: aixaclothing@gmail.com<br>Phone: +91 8270829272</p>";
  infoPopup.style.display="flex";
});
document.getElementById("closeInfo").addEventListener("click",()=>{infoPopup.style.display="none";});

/* Splash Removal */
window.addEventListener("load",()=>{setTimeout(()=>document.querySelector(".splash").style.display="none",2200);});

/* Toast Function */
function showToast(message){
  const toast=document.getElementById("toast");
  toast.textContent=message;
  toast.classList.add("show");
  setTimeout(()=>toast.classList.remove("show"),500);
}

/* Checkout Popup */
const checkoutPopup=document.getElementById("checkoutPopup");
document.querySelector(".continue-btn").addEventListener("click",()=>{checkoutPopup.style.display="flex";});
document.getElementById("closePopup").addEventListener("click",()=>{checkoutPopup.style.display="none";});

/* Place Order via WhatsApp */
document.getElementById("placeOrder").addEventListener("click",()=>{
  const name=document.getElementById("name").value.trim();
  const address=document.getElementById("address").value.trim();
  const pincode=document.getElementById("pincode").value.trim();
  const city=document.getElementById("city").value.trim();
  const mobile=document.getElementById("mobile").value.trim();
  if(!name||!address||!pincode||!city||!mobile){
    alert("Please fill all fields!");
    return;
  }
  if(cart.length===0){
    alert("Your cart is empty!");
    return;
  }
  let message = `Hello AIXA,%0A%0AI want to place an order:%0A`;
  cart.forEach(item=>{
    message += `${item.name} - Qty: ${item.qty} - ₹${item.price*item.qty}%0A`;
  });
  const total = cart.reduce((sum,item)=>sum + Number(item.price)*item.qty,0);
  message += `%0ATotal Amount: ₹${total}%0A%0AShipping Details:%0AName: ${name}%0AAddress: ${address}%0APincode: ${pincode}%0ACity: ${city}%0AMobile: ${mobile}`;
  const whatsappURL = `https://wa.me/918270829272?text=${message}`;
  window.open(whatsappURL, "_blank");
  cart = [];
  renderCart();
  checkoutPopup.style.display="none";
});

/* Slideshow Auto Swipe */
let currentSlide=0;
const slides=document.querySelectorAll(".slide");
function showSlide(index){
  slides.forEach((s,i)=>s.classList.toggle("active",i===index));
}
setInterval(()=>{
  currentSlide=(currentSlide+1)%slides.length;
  showSlide(currentSlide);
},4000);

/* Shop Now Button */
document.querySelectorAll(".shop-btn").forEach(btn=>btn.addEventListener("click",showSearchView));

/* Search */
document.getElementById("searchInput").addEventListener("input",e=>{
  const val=e.target.value.toLowerCase();
  fetchAllData().then(data=>{
    const filtered=data.filter(p=>p.name.toLowerCase().includes(val) || (p.description||"").toLowerCase().includes(val));
    renderProducts(filtered);
  });
});

/* Initial View */
showHomeView();
loadProducts(false);
</script>
</body>
</html>

